{% extends "base.html.twig" %}

{% block content %}
<section class="section-content">

    {% if session is defined %}
    <h1>
        Bonjour {{ session.user.pseudo }} ! Voici votre TODO list
        </h1>
        <br>
        <a href="{{ path }}/?controller=Ticket&action=ticketForm"><button class="btn btn-dark">Ajouter un ticket</button></a>
        <hr>

        


    {% endif %}

    <div class="content-tickets ">

    {% for ticket in tickets %}

    <div class="card card-element">
        <div class="card-header">
            <h5 class="card-title">{{ ticket.tic_title }}</h5>
        </div>
                <div class="card-body">
                    <p class="card-text">{{ ticket.tic_content }}</p>
                </div>
                <cite title="Source Title">{{ ticket.tic_date|date("d/m/Y H:m:s") }}</cite>
                <div class="row row-button">
                    <div class="col-6 ">
                        <a href="{{ path }}/?controller=Ticket&action=updateTicketForm&param={{ticket.tic_id}}"><button class="btn btn-secondary btn-ticket-modify style-button" type="button">Modifier</button></a>
                    </div>
                    <div class="col-6">
                        <a href="{{ path }}/?controller=Ticket&action=deleteTicket&param={{ticket.tic_id}}"><button class="btn btn-danger btn-ticket-delete style-button" type="button">Supprimer</button></a>
                    </div>
                </div>
                
    </div>
    {% else %}
    <h6>Vous n'avez pas de tickets (c'est plut√¥t une bonne nouvelle) :)</h6>
    {% endfor %}

    </div>

</section>
{% endblock %}